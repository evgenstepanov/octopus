<!DOCTYPE HTML>
<html>

<head>
  <meta charset="utf-8">
  <style>
    #field {
      position: relative;
      width: 200px;
      height: 150px;
      border: 10px solid black;
      background-color: #00FF00;
      overflow: hidden;
      cursor: pointer;
    }

    #ball {
      position: absolute;
      top: 0px;
      left: 0px;
      transition: all 0.3s;
    }
  </style>
</head>

<body style="height:2000px">

  Click on a field to move the ball there.
  <br> The ball should never leave the field.


  <div id="field">
    <img src="https://en.js.cx/clipart/ball.svg" id="ball"> . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
    . . . . . . . . .
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
    . . . . . .
  </div>


  <script>
    function getCoords(elem) {
      let box = elem.getBoundingClientRect();

      return {
        top: box.top + pageYOffset,
        left: box.left + pageXOffset
      };
    }


    field.onclick = function (event) {

      let fieldCoords = getCoords(field);

      let clickTop = fieldCoords.top + field.clientTop + ball.clientHeight / 2;
      let clickBottom = fieldCoords.top + field.clientTop + field.clientHeight - ball.clientHeight / 2;
      let clickLeft = fieldCoords.left + field.clientLeft + ball.clientWidth / 2;
      let clickRight = fieldCoords.left + field.clientLeft + field.clientWidth - ball.clientHeight / 2;

      let clickY = event.clientY + pageYOffset;
      let clickX = event.clientX + pageXOffset;

      if (clickY < clickTop) ball.style.top = 0 + "px";
      if (clickY > clickBottom) ball.style.top = field.clientHeight - ball.clientHeight + "px";
      if (clickY > clickTop && clickY < clickBottom) ball.style.top = clickY - fieldCoords.top - field.clientTop - ball.clientHeight / 2 + 'px';

      if (clickX < clickLeft) ball.style.left = 0 + "px";
      if (clickX > clickRight) ball.style.left = field.clientWidth - ball.clientHeight + "px";
      if (clickX > clickLeft && clickX < clickRight) ball.style.left = clickX - fieldCoords.left - field.clientLeft - ball.clientHeight / 2 + 'px';
    }
  </script>
</body>

</html>